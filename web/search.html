<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="Cache" content="no-cache">
    <title>搜索</title>
    <script type="text/javascript" src="jquery-3.2.1.min.js"></script>
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- 可选的 Bootstrap 主题文件（一般不用引入） -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <style>
        a {
            text-decoration: none;
        }
        a:hover{
            text-decoration: none;
        }
        nav>div>a {
            margin-top: auto;
            margin-bottom: auto;
            margin-left: 100px;
        }
        #search_blod span{
            font-size: 20px;
        }
        #search_blod > div > div{
            float: left;
            margin-right: 20px;
            font-size: 20px;
            border-radius: 5px;
            background-color: rgba(0,0,0,0.32);
            margin-bottom: 20px;
        }
        #search_blod > div{
            overflow: hidden;
        }
    </style>

</head>
<body>
<div style="background-color: white;overflow: hidden; height: 263px">
    <div style="float: left; height: 263px">
        <img src="./img/u86.png" style="outline: none; " tabindex="0" id="showBg">
    </div>
    <div style="padding: 0px; float: right; margin-right: 5%; margin-top: 5%" >
        <a class="btn btn-primary btn-sm    " style="margin-bottom: 10px">注册</a>
        <span style="font-size: 30px">|</span>
        <a class="btn btn-primary btn-sm" style="margin-bottom: 10px">登录</a>
    </div>
</div>

<nav class="navbar navbar-default navbar-static-top">
    <div class="container" style="font-size: 30px;">
        <a href="./index.jsp">首页</a>
        <a>搜索</a>
        <a>交友论坛</a>
        <a>活动</a>
        <a href="./personnal.jsp" target="_blank">个人中心</a>
    </div>
</nav>

<div style="margin-left: 15%; width: 75%; border: 1px solid rgba(0,0,0,0.54); border-radius: 8px">
    <div style="overflow: hidden; border-bottom: 1px solid rgba(0,0,0,0.54);">
        <div style="float: left; ">
            <span style="font-size: 25px;"><span class="glyphicon glyphicon-magnet"></span>搜索意中人</span>
        </div>
        <div style="float: right; overflow: hidden; margin-right: 16%">
            <div style="float: left"><input class="form-control" type="text" placeholder="输入昵称，准确搜索"></div>
            <div style="float: right"><button class="btn btn-default" onclick=""><span class="glyphicon glyphicon-search"></span></button></div>
        </div>
    </div>
    <div style="margin-top: 20px; overflow: hidden">
        <div style="width: 18%; float: left; margin-left: 2%;">
            <span style="font-size: 20px">基本条件</span>
        </div>

        <div style="width: 78%; float: right; margin-right: 2%; overflow: hidden" id="search_blod">
            <div>
                <div>
                    <span>性别</span>
                    <select id="gender">
                        <option value="男">男</option>
                        <option value="nv">女</option>
                    </select>
                </div>
                <div>
                    <span>年龄</span>
                    <select id="min_old">
                        <option value="null">不限</option>
                    </select>至
                    <select id="max_old">
                        <option value="null">不限</option>
                    </select>
                </div>
                <div>
                    <span>工作地点</span>
                    <select id="sheng" onclick="changeCity()">
                        <option value="null">不限</option>
                    </select>省
                    <select id="shi" onclick="changeQu()">
                        <option value="null">不限</option>
                    </select>市
                    <select id="qu">
                        <option value="null">不限</option>
                    </select>区
                </div>
            </div>
            <div>
                <div>
                    <span>身高</span>
                    <select id="min_height">
                        <option value="null">不限</option>
                    </select>至
                    <select id="max_height">
                        <option value="null">不限</option>
                    </select>
                </div>
                <div>
                    <span>学历</span>
                    <select id="xueli">
                        <option value="高中及以下">高中及以下</option>
                        <option value="中专">中专</option>
                        <option value="大专">大专</option>
                        <option value="大学本科">大学本科</option>
                        <option value="硕士">硕士</option>
                        <option value="博士">博士</option>
                    </select>
                </div>
                <div>
                    <span>收入</span>
                    <select id="min_income">
                        <option value="null">不限</option>
                    </select>至
                    <select id="max_income">
                        <option value="null">不限</option>
                    </select>
                </div>
            </div>
            <div>
                <div>
                    <span>职业</span>
                    <select id="occupation">
                        <option value="null" >不限</option>
                        <option value="医生">医生</option>
                        <option value="公务员">公务员</option>
                        <option value="教师">教师</option>
                    </select>
                </div>
                <div>
                    <span>星座</span>
                    <select id="Constellation">
                        <option value="null">不限</option>
                        <option value="白羊座">白羊座</option>
                        <option value="金牛座">金牛座</option>
                        <option value="双子座">双子座</option>
                        <option value="巨蟹座">巨蟹座</option>
                        <option value="狮子座">狮子座</option>
                        <option value="室女座">室女座</option>
                        <option value="天秤座">天秤座</option>
                        <option value="天蝎座">天蝎座</option>
                        <option value="人马座">人马座</option>
                        <option value="摩羯座">摩羯座</option>
                        <option value="宝瓶座">宝瓶座</option>
                        <option value="双鱼座">双鱼座</option>
                    </select>
                </div>
            </div>

        </div>
    </div>
    <div style="text-align: center">
        <button onclick="searchPerson()" class="btn btn-info">立即搜索</button>
    </div>
</div>
<br>
<div>
    <div style="float: right; margin-right: 15%"><a style="font-size: 20px">换一组</a></div>
    <div id="show">

    </div>
</div>
<script>
    var min_height = document.getElementById("min_height");
    for(var i = 130; i<=220; i++){
        var option = document.createElement("option");
        var test = document.createTextNode(i);
        option.appendChild(test);
        option.value = i;
        min_height.appendChild(option);
    }
    var max_height = document.getElementById("max_height");
    for(var i = 130; i<=220; i++){
        var option = document.createElement("option");
        var test = document.createTextNode(i);
        option.appendChild(test);
        option.value = i;
        max_height.appendChild(option);
    }
    var income = document.getElementById("min_income");
    for(var i = 1000; i<=10000; i = i+200){
        var option = document.createElement("option");
        var test = document.createTextNode(i);
        option.appendChild(test);
        option.value = i;
        income.appendChild(option);
    }
    var income = document.getElementById("max_income");
    for(var i = 1000; i<=10000; i = i+200){
        var option = document.createElement("option");
        var test = document.createTextNode(i);
        option.appendChild(test);
        option.value = i;
        income.appendChild(option);
    }

    var min_old = document.getElementById("min_old");
    for(var i=18; i<60; i++){
        var option = document.createElement("option");
        var text = document.createTextNode(i + "岁");
        option.value = i;
        option.appendChild(text);
        min_old.appendChild(option);
    }
    var max_old = document.getElementById("max_old");
    for(var i=18; i<60; i++){
        var option = document.createElement("option");
        var text = document.createTextNode(i + "岁");
        option.value = i;
        option.appendChild(text);
        max_old.appendChild(option);
    }

    $.getJSON("./city.json", function (result) {
        var sheng = document.getElementById("sheng");
        $.each(result, function (i, data) {
            var option = document.createElement("option");
            var test = document.createTextNode(data.name);
            option.value = data.name;
            option.appendChild(test);
            sheng.appendChild(option);
        })
    });
    function changeQu() {
        var shi = document.getElementById("shi");
        var sheng = document.getElementById("sheng");
        var Shengname = sheng.options[sheng.selectedIndex].value;
        var Shiname = shi.options[shi.selectedIndex].value;
        var qu = document.getElementById("qu");
        qu.innerHTML = "";
        $.getJSON("./city.json", function (result) {
            $.each(result, function (i, data) {
                if(data.name == Shengname){
                    $.each(data.city, function (i2, data2) {
                        if(data2.name == Shiname){
                            $.each(data2.area, function (i3, data3){
                                var option = document.createElement("option");
                                var test = document.createTextNode(data3);
                                option.value = data3;
                                option.appendChild(test);
                                qu.appendChild(option);
                            })
                        }
                    })
                }
            })
        });
    }

    function changeCity() {
        var shi = document.getElementById("shi");
        var sheng = document.getElementById("sheng");
        shi.innerHTML = "";
        var name = sheng.options[sheng.selectedIndex].value;
        $.getJSON("./city.json", function (result) {
            $.each(result, function (i, data) {
                if(data.name == name){
                    $.each(data.city, function (i2, data2) {
                        var option = document.createElement("option");
                        var test = document.createTextNode(data2.name);
                        option.value = data2.name;
                        option.appendChild(test);
                        shi.appendChild(option);
                    })
                }
            })
        });
    }

    function searchPerson() {
        var gender = document.getElementById("gender").value;
        var min_old = document.getElementById("min_old").value;
        var max_old = document.getElementById("max_old").value;
        var sheng = document.getElementById("sheng").value;
        var shi = document.getElementById("shi").value;
        var qu = document.getElementById("qu").value;
        var min_height = document.getElementById("min_height").value;
        var max_height = document.getElementById("max_height").value;
        var min_income = document.getElementById("min_income").value;
        var max_income = document.getElementById("max_income").value;
        var occupation = document.getElementById("occupation").value; // 职业
        var Constellation = document.getElementById("Constellation").value; // 星座
        var xueli = document.getElementById("xueli").value;
        //alert(gender + " " + min_old + " " + max_old + " " + sheng + " " + shi + " " + qu + min_height + " " + max_height + " " + min_income + " " + max_income + " " + xueli + " " + occupation + " " + Constellation);
        if(min_old > max_old){
            alert("年龄下限不能比上限高哦 亲～");
            return;
        }
        if (min_income < max_income) {
            alert("身高下限不能比上限高哦 亲～");
            return;
        }
        if (min_height < max_height) {
            alert("身高下限不能比上限高哦 亲～");
            return;
        }
    }
</script>
</body>
</html>